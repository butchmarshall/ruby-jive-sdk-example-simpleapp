!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.jQuery.Request=t(e.jquery)}(this,function(e){return function(e){"use strict";e(window.jQuery)}(function(e){"use strict";e.Request=function(t){if(e.support.cors&&t.crossDomain!==!1){var r,o;if(t.data&&t.processData!==!1){try{r=e.dataToJson(t.data)}catch(s){r=null}if(r)t.data=r;else if("function"==typeof FormData){r=e.dataToInputs(t.data,"hidden"),o=e("<form></form>");for(var a=0;a<r.length;a++)o.append(r[a]);t.data=new FormData(o.get(0)),t.processData=!1,t.cache=!1,t.contentType=!1}}if(r!==!1||!t.data){var n=e.Deferred();return function(r){t.xhr=function(){var t=e.ajaxSettings.xhr();try{t.upload?t.upload.addEventListener("progress",function(e){e.lengthComputable&&r.notify({total:e.total,loaded:e.loaded})},!1):t.addEventListener("progress",function(e){e.lengthComputable&&r.notify({total:e.total,loaded:e.loaded})},!1)}catch(o){}return t}}(n),t.xhrFields={withCredentials:!0},e.ajax(t).fail(function(e,t,r){try{n.reject({headers:e.getAllResponseHeaders(),response:JSON.parse(e.responseText),status:e.status}),e.error.error&&(e.error=e.error.error)}catch(o){n.reject({status:500,response:{message:o.message},headers:{}})}}).success(function(e,t,r){n.resolve({headers:r.getAllResponseHeaders(),response:e,status:r.status})}),n.promise()}}return e.XDR(t)},e.Request.parseUri=function(){var e=function(t){for(var r=e.options,o=r.parser[r.strictMode?"strict":"loose"].exec(t),s={},a=14;a--;)s[r.key[a]]=o[a]||"";return s[r.q.name]={},s[r.key[12]].replace(r.q.parser,function(e,t,o){t&&(s[r.q.name][t]=o)}),s};return e.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},e}()}),jQuery.Request});